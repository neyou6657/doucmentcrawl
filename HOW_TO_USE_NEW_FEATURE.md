# 🎯 如何使用新的元素选择器功能

## 一分钟快速上手

### 第 1 步：安装脚本
1. 安装 Tampermonkey 浏览器扩展
2. 添加 `doc-scraper.user.js` 到 Tampermonkey
3. 刷新页面

### 第 2 步：打开任意文档网站
例如：GitHub Wiki、MDN、React Docs 等

### 第 3 步：使用元素选择器

```
┌────────────────────────────────────────┐
│  右上角会出现控制面板                   │
│                                        │
│  🎯 选择链接区域  ← 点这里             │
│  🎯 选择内容区域                       │
└────────────────────────────────────────┘
```

#### 3.1 选择链接区域
1. 点击 "🎯 选择链接区域" 按钮
2. 页面出现半透明遮罩
3. 移动鼠标到侧边栏（或导航栏）
4. 看到橙色高亮后点击
5. 弹出提示：找到 X 个链接

#### 3.2 选择内容区域
1. 点击 "🎯 选择内容区域" 按钮
2. 移动鼠标到主内容区
3. 看到橙色高亮后点击
4. 弹出确认提示

#### 3.3 开始工作
1. 点击 "1. 扫描链接" 按钮
2. 点击 "2. 开始抓取" 按钮
3. 等待完成
4. 导出数据（JSON/Markdown/CSV）

## 视觉提示

### 选择模式下你会看到：

```
┌──────────────────────────────────────────┐
│  半透明遮罩层覆盖整个页面                 │
│                                          │
│  ┌────────────────────────────┐         │
│  │ <div class="sidebar">      │ ← 黑色提示框│
│  │ 选择器: .sidebar           │         │
│  └────────────────────────────┘         │
│                                          │
│  ╔══════════════════╗                   │
│  ║ 侧边栏区域       ║ ← 橙色高亮边框    │
│  ║  • 链接 1        ║                   │
│  ║  • 链接 2        ║                   │
│  ╚══════════════════╝                   │
│                                          │
│      屏幕中央显示：                       │
│      "请点击包含链接的区域"               │
│      (3秒后消失)                         │
└──────────────────────────────────────────┘
```

## 实际例子

### 例子 1：GitHub Wiki

```
网站：https://github.com/xxx/xxx/wiki

步骤：
1. 打开 Wiki 页面
2. 点击 "🎯 选择链接区域"
3. 点击右侧的目录区域 → 生成 .wiki-rightbar a
4. 点击 "🎯 选择内容区域"  
5. 点击文章内容区域 → 生成 #wiki-body
6. 点击 "扫描链接" → 找到所有 Wiki 页面
7. 点击 "开始抓取" → 开始下载
```

### 例子 2：React 官方文档

```
网站：https://react.dev/

步骤：
1. 打开 React 文档
2. 点击 "🎯 选择链接区域"
3. 点击左侧边栏 → 生成 .sidebar a
4. 点击 "🎯 选择内容区域"
5. 点击主内容区 → 生成 article
6. 点击 "扫描链接" → 找到所有文档页面
7. 点击 "开始抓取" → 开始下载
```

### 例子 3：MDN Web Docs

```
网站：https://developer.mozilla.org/

步骤：
1. 打开 MDN 文档
2. 点击 "🎯 选择链接区域"
3. 点击侧边导航 → 生成 nav.sidebar a
4. 点击 "🎯 选择内容区域"
5. 点击文章区域 → 生成 article#content
6. 点击 "扫描链接" → 找到所有文档
7. 点击 "开始抓取" → 开始下载
```

## 常见问题

### Q: 如果选错了怎么办？
**A:** 
- 方法1：按 ESC 键取消，重新选择
- 方法2：直接再次点击按钮，新选择会覆盖旧的

### Q: 橙色高亮不出现？
**A:** 
- 确保点击了选择按钮
- 检查是否有遮罩层
- 尝试移动鼠标到不同区域

### Q: 提示找到 0 个链接？
**A:**
- 选择的区域可能没有链接
- 尝试选择更大的容器（如整个侧边栏）
- 确保网页已完全加载

### Q: 不知道选哪个区域？
**A:**
- **链接区域**：通常是侧边栏、导航栏、目录
- **内容区域**：通常是中间的主要文章/文档内容
- 看哪里有很多链接，就选哪里作为链接区域

## 提示和技巧

### ✅ DO - 推荐做法

1. **选择容器元素**
   ```
   ✓ 选择整个侧边栏
   ✗ 不要选择单个链接
   ```

2. **选择稳定的元素**
   ```
   ✓ 选择有语义的标签（nav、aside、main）
   ✗ 避免选择动态生成的元素
   ```

3. **验证选择结果**
   ```
   ✓ 查看提示的链接数量是否合理
   ✓ 如果数量不对，重新选择
   ```

### ❌ DON'T - 避免做法

1. **不要选择太小的元素**
   ```
   ✗ 单个链接
   ✗ 文本节点
   ✗ 图标元素
   ```

2. **不要选择动态内容**
   ```
   ✗ 广告区域
   ✗ 弹窗
   ✗ 悬浮按钮
   ```

## 键盘快捷键

- **ESC** - 取消选择并退出选择模式

## 视频教程（文字版）

### 场景：抓取 GitHub Wiki

```
[00:00] 打开 GitHub Wiki 页面
[00:05] 看到右上角的控制面板
[00:10] 点击 "🎯 选择链接区域" 按钮
[00:12] 页面变暗，出现遮罩层
[00:15] 移动鼠标到右侧目录
[00:17] 目录区域显示橙色边框
[00:18] 看到黑色提示框显示 ".wiki-rightbar"
[00:20] 点击目录区域
[00:21] 弹出提示：找到 15 个链接
[00:25] 点击 "🎯 选择内容区域" 按钮
[00:27] 移动鼠标到文章内容区
[00:29] 内容区显示橙色边框
[00:30] 看到黑色提示框显示 "#wiki-body"
[00:32] 点击内容区
[00:33] 弹出确认提示
[00:38] 点击 "1. 扫描链接" 按钮
[00:40] 控制面板显示：找到 15 个链接，3 个分类
[00:45] 点击 "2. 开始抓取" 按钮
[00:48] 进度条出现，显示抓取进度
[02:30] 抓取完成！成功 15 页
[02:35] 点击 "导出 Markdown" 按钮
[02:37] 文件下载完成
[02:40] 完成！
```

## 对比：新旧方式

### 旧方式（手动编写选择器）
```javascript
// 需要打开脚本文件
// 需要了解 CSS 选择器
// 需要手动编辑代码

const config = {
    leftNavSelectors: [
        'nav a',              // 尝试1 - 不工作
        '.sidebar a',         // 尝试2 - 不工作
        '.wiki-rightbar a',   // 尝试3 - 成功！
    ]
};

// 耗时：5-10 分钟
// 难度：⭐⭐⭐⭐
```

### 新方式（可视化选择）
```
1. 点击按钮
2. 点击页面元素
3. 完成！

耗时：10 秒
难度：⭐
```

## 下一步

完成选择后，你可以：
1. 配置抓取参数（延迟、并发数）
2. 开始抓取所有页面
3. 导出数据到本地
4. 分析和使用数据

## 相关文档

- 📖 **详细指南**：[ELEMENT_PICKER_GUIDE.md](./ELEMENT_PICKER_GUIDE.md)
- 🚀 **快速开始**：[QUICKSTART_ELEMENT_PICKER.md](./QUICKSTART_ELEMENT_PICKER.md)
- 🎨 **交互演示**：[demo.html](./demo.html)
- 🧪 **测试页面**：[test-page.html](./test-page.html)
- 📝 **完整文档**：[README.md](./README.md)

---

**享受全新的简单体验吧！** 🎉
